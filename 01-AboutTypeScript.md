### 类型基础

---

#### 强类型与弱类型

- 较早的定义
  > 在强类型语言中，当一个对象从调用函数传递到被调用函数时，其类型必须与被调用函数中声明的类型兼容。
        --- Liskov,Zilles 1974
  ```js
  A(){
    B(x)
  }
  B(y){
    // y 可以被赋值 x，程序运行良好
  }
  ```
- 当代定义
  > **强类型语言**：不允许改变变量的数据类型，除非进行强制类型转换。
  > **弱类型语言**，变量可以被赋予不同的数据类型。

#### 静态类型与动态类型

- **静态类型语言**：在**编译阶段**确定所有的变量类型
  - c++
    ```c++
    class C {
      public: {
        int x;
        int y;
      }
    }
    int add(C a, C b){
      return a.x + a.y + b.x + b.y;
    }
    ```
  - 编译阶段确定属性偏移量。
  - 用偏移量访问代替属性名访问。
  - 偏移量信息共享。
- **动态类型语言**：在**执行阶段**确定所有的变量类型
  - javascript
    ```js
    class C {
      constructor(x, y) {
        this.x = x;
        this.y = y;
      }
    }
    function add(a, b) {
      return a.x + a.y + b.x + b.y;
    }
    ```
  - 在程序运行中，动态计算属性偏移量。
  - 需要额外的空间存储属性名。
  - 所有对象的偏移量信息各存一份。
